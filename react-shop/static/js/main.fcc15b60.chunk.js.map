{"version":3,"sources":["components/Header.js","components/reducer.js","components/context.js","components/Preloader.js","components/GoodsItem.js","components/GoodsList.js","components/Cart.js","components/BasketItem.js","components/BasketList.js","components/Alert.js","components/Shop.js","config.js","components/Footer.js","App.js","index.js"],"names":["Header","className","href","id","reducer","state","actions","type","goods","payload","loading","order","map","el","newQuantity","quantity","itemIndex","findIndex","orderItem","newOrder","newItem","itemOrder","i","alertName","name","filter","isBasketShow","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","addToBasket","item","incQuantity","itemId","decQuantity","removeFromBasket","handleBasketShow","setGoods","data","Provider","Preloader","GoodsItem","props","description","price","full_background","useContext","src","alt","onClick","style","fontSize","GoodsList","length","Cart","Function","prototype","BasketItem","BasketList","totalPrice","reduce","sum","Alert","React","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","then","response","json","featured","countItems","Footer","Date","getFullYear","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fcc15b60.chunk.js","sourcesContent":["function Header(){\r\n    return(\r\n        <nav className={\"green darken-1\"}>\r\n            <div className={\"nav-wrapper\"}>\r\n                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                <a href=\"#\" className={\"brand-logo\"}>React Shop</a>\r\n                <ul id={\"nav-mobile\"} className={\"right hide-on-med-and-down\"}>\r\n                    <li><a href=\"https://github.com/ThePrinceOfSands/react-shop\">Repo</a></li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Header;","export function reducer(state, actions){\r\n    switch (actions.type){\r\n        case \"SET_GOODS\":\r\n            return {\r\n                ...state,\r\n                goods: actions.payload || [],\r\n                loading: false,\r\n            }\r\n        case \"INC_QUANTITY\": {\r\n            return {\r\n                ...state,\r\n                order: state.order.map((el) => {\r\n                    if(el.id === actions.payload.id){\r\n                        const newQuantity = el.quantity + 1;\r\n                        return{\r\n                            ...el,\r\n                            quantity: newQuantity,\r\n                        }\r\n                    }else{\r\n                        return el;\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        case \"DEC_QUANTITY\": {\r\n            return {\r\n                ...state,\r\n                order: state.order.map((el) => {\r\n                    if(el.id === actions.payload.id){\r\n                        const newQuantity = el.quantity - 1;\r\n                        return{\r\n                            ...el,\r\n                            quantity: newQuantity >= 0 ? newQuantity : 0,\r\n                        }\r\n                    }else{\r\n                        return el;\r\n                    }\r\n                })\r\n            };\r\n        }\r\n        case \"ADD_TO_BASKET\": {\r\n            const itemIndex = state.order.findIndex(orderItem => orderItem.id === actions.payload.id);\r\n\r\n            let newOrder = null;\r\n            if(itemIndex < 0){\r\n                const newItem = {\r\n                    ...actions.payload,\r\n                    quantity: 1,\r\n                };\r\n                newOrder = [...state.order, newItem];\r\n            }else{\r\n                 newOrder = state.order.map((itemOrder, i) => {\r\n                    if(i === itemIndex){\r\n                        return {\r\n                            ...itemOrder,\r\n                            quantity: itemOrder.quantity + 1,\r\n                        }\r\n                    }else{\r\n                        return itemOrder;\r\n                    }\r\n                })\r\n            }\r\n\r\n            return {\r\n              ...state,\r\n                order: newOrder,\r\n                alertName: actions.payload.name,\r\n            };\r\n\r\n        }\r\n        case \"REMOVE_FROM_BASKET\":\r\n            return {\r\n                ...state,\r\n                order: state.order.filter(el => el.id !== actions.payload.id),\r\n            }\r\n        case \"CLOSE_ALERT\":\r\n            return {\r\n                ...state,\r\n                alertName: \"\",\r\n            }\r\n        case \"HANDLE_BASKET_SHOP\":\r\n            return {\r\n                ...state,\r\n                isBasketShow: !state.isBasketShow,\r\n            }\r\n    }\r\n    return state;\r\n}","import React, {createContext, useReducer} from \"react\";\r\nimport {reducer} from \"./reducer\";\r\n\r\nexport const ShopContext = createContext();\r\n\r\nconst initialState = {\r\n    goods: [],\r\n    loading: true,\r\n    order: [],\r\n    isBasketShow: false,\r\n    alertName: \"\",\r\n};\r\n\r\nexport const ContextProvider = ({children}) => {\r\n    const [value, dispatch] = useReducer(reducer, initialState);\r\n\r\n    value.closeAlert = () => {\r\n      dispatch({type: \"CLOSE_ALERT\", });\r\n    };\r\n\r\n    value.addToBasket = (item) => {\r\n      dispatch({type: \"ADD_TO_BASKET\", payload: item});\r\n    };\r\n\r\n    value.incQuantity = (itemId) => {\r\n        dispatch({type: \"INC_QUANTITY\", payload:{id: itemId}});\r\n    }\r\n\r\n    value.decQuantity = (itemId) => {\r\n        dispatch({type: \"DEC_QUANTITY\", payload:{id: itemId}});\r\n    }\r\n\r\n    value.removeFromBasket = (itemId) => {\r\n        dispatch({type:\"REMOVE_FROM_BASKET\", payload: {id: itemId}});\r\n    }\r\n\r\n    value.handleBasketShow = () => {\r\n        dispatch({type: \"HANDLE_BASKET_SHOP\"})\r\n    }\r\n\r\n    value.setGoods = (data) => {\r\n        dispatch({type: \"SET_GOODS\", payload: data});\r\n    }\r\n\r\n    return(\r\n        <ShopContext.Provider value={value}>\r\n            {children}\r\n        </ShopContext.Provider>\r\n    )\r\n}","function Preloader(){\r\n    return(\r\n        <div className=\"progress\">\r\n            <div className=\"indeterminate\"/>\r\n        </div>\r\n    )\r\n}\r\nexport default Preloader;","import {useContext} from \"react\";\nimport {ShopContext} from \"./context\";\n\nfunction GoodsItem(props){\n    const {\n        id,\n        name,\n        description,\n        price,\n        full_background,\n    } = props;\n\n    const {addToBasket} = useContext(ShopContext);\n\n    return(\n        <div className=\"row\">\n            <div className=\"col s12\">\n                <div className=\"card\">\n                    <div className=\"card-image\">\n                        <img src={full_background} alt={\"Img goods\"} />\n                    </div>\n                    <div className=\"card-content\">\n                        <span className=\"card-title\">{name}</span>\n                        <p>{description}</p>\n                    </div>\n                    <div className=\"card-action\">\n                        <button className={\"btn\"} onClick={() => addToBasket({id, name, price})}>Купить</button>\n                        <span className={\"right\"} style={{fontSize: \"1.8 rem\"}}>{price} RUB</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default GoodsItem;","import {ShopContext} from \"./context\";\nimport {useContext} from \"react\";\n\nimport GoodsItem from \"./GoodsItem\";\n\nfunction GoodsList(props){\n    const {goods} = useContext(ShopContext);\n\n    if(!goods.length) return <h3>Ничего нет</h3>;\n\n    return (\n        <div className={\"goods\"}>\n            {goods.map(item => (\n                <GoodsItem key={item.id} {...item}/>\n            ))}\n        </div>\n    )\n\n}\n\nexport default GoodsList;","import {useContext} from \"react\";\nimport {ShopContext} from \"./context\";\n\nfunction Cart(props){\n    const {order, handleBasketShow = Function.prototype} = useContext(ShopContext);\n\n    return(\n        <div className={\"cart blue darken-4 white-text\"} onClick={handleBasketShow}>\n            <i className=\"material-icons\">shopping_cart</i>\n            {order.length ? <span className={\"cart-countItems\"}>{order.length}</span> : null}\n        </div>\n    )\n}\n\nexport default Cart;","import React, {useContext} from \"react\";\nimport {ShopContext} from \"./context\";\n\nfunction BasketItem(props){\n    const {\n        id,\n        name,\n        price,\n        quantity,\n    } = props;\n\n    const {\n        removeFromBasket = Function.prototype,\n        incQuantity = Function.prototype,\n        decQuantity = Function.prototype,\n    } = useContext(ShopContext);\n\n    return(\n        <li className=\"collection-item\">\n\n            {name} <i className={\"material-icons basket-quantity\"} onClick={() => decQuantity(id)}>remove</i>\n            x {quantity} <i className={\"material-icons basket-quantity\"} onClick={() => incQuantity(id)}>add</i>\n            = {price * quantity}\n\n            <span className=\"secondary-content\" onClick={() => removeFromBasket(id)}>\n                <i className=\"material-icons basket-delete\">close</i>\n            </span>\n        </li>\n    )\n}\nexport default BasketItem;","import {ShopContext} from \"./context\";\nimport {useContext} from \"react\";\n\nimport BasketItem from \"./BasketItem\";\n\nfunction BasketList(){\n    const {\n        order = [],\n        handleBasketShow = Function.prototype,\n    } = useContext(ShopContext);\n\n    const totalPrice = order.reduce((sum, el) => {\n        return sum + el.price * el.quantity;\n    }, 0)\n\n    return(\n        <ul className=\"collection basket-list\">\n            <li className=\"collection-item active\">Корзина</li>\n            {\n                order.length ? order.map(item => (\n                    <BasketItem\n                        key={item.id} {...item}\n                    />\n                ))\n                    : <li className=\"collection-item\">Корзина пуста</li>\n            }\n            <li className=\"collection-item active\">Итого: {totalPrice} руб.</li>\n            <li className=\"collection-item\">\n                <button className={\"btn btn-small\"}>Оформить</button>\n            </li>\n            <i className={\"material-icons basket-close\"} onClick={handleBasketShow}>close</i>\n        </ul>\n    )\n}\nexport default BasketList;","import React, {useContext} from \"react\";\r\nimport {ShopContext} from \"./context\";\r\n\r\nfunction Alert(){\r\n    const { alertName = \"\", closeAlert = Function.prototype} = useContext(ShopContext);\r\n\r\n    React.useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 3000);\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [alertName]);\r\n\r\n    return(\r\n        <div className={\"toast-container\"}>\r\n            <div className=\"toast\">\r\n                {alertName} добавлен в корзину\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\nexport default Alert;","import {useEffect, useContext} from \"react\";\nimport {API_URL} from \"../config\";\n\nimport {ShopContext} from \"./context\";\n\nimport Preloader from \"./Preloader\";\nimport GoodsList from \"./GoodsList\";\nimport Cart from \"./Cart\";\nimport BasketList from \"./BasketList\";\nimport Alert from \"./Alert\";\n\nfunction Shop(){\n    const {loading, order, isBasketShow, alertName, setGoods} = useContext(ShopContext);\n\n    useEffect(function getGoods(){\n        fetch(API_URL, {\n            headers: {\"Authorization\": \"fba5d9ba-8399263e-2630f4d2-10b7db20\"}\n        })\n            .then(response => response.json())\n            .then(data => setGoods(data.featured));\n    }, []);\n\n    return(\n        <main className={\"container content\"}>\n            <Cart countItems={order.length} />\n            {\n                loading ? <Preloader/> : <GoodsList />\n            }\n            {\n                isBasketShow && <BasketList />\n            }\n            {\n                alertName ? <Alert /> : null\n            }\n        </main>\n    )\n}\nexport default Shop;","const API_URL = \" https://fortniteapi.io/v1/shop?lang=ru\";\r\n\r\nexport {API_URL};","function Footer(){\r\n    return(\r\n        <footer className={\"page-footer green lighten-4\"}>\r\n            <div className={\"footer-copyright\"}>\r\n                <div className={\"container\"}>\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a href=\"https://github.com/ThePrinceOfSands/react-shop\" className={\"grey-text text-lighten-4 right\"}>Repo</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;","import Header from \"./components/Header\";\nimport Shop from \"./components/Shop\";\nimport Footer from \"./components/Footer\";\n\nimport {ContextProvider} from \"./components/context\";\n\nfunction App() {\n  return (\n    <>\n        <Header />\n        <ContextProvider>\n            <Shop />\n        </ContextProvider>\n        <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}